<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BOPM – Boletim de Ocorrência PMESP</title>
<link rel="icon" href="https://cdn.discordapp.com/attachments/1340824245646921860/1409344196917071892/image.png">
<style>
body {
  font-family: Arial, sans-serif;
  margin: 20px auto;
  max-width: 900px;
  background: #f4f4f9;
  color: #333;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}
h1 {
  text-align: center;
  color: #8b0000;
  margin-bottom: 5px;
}
h2 {
  margin-top: 30px;
  border-bottom: 2px solid #8b0000;
  padding-bottom: 5px;
  color: #8b0000;
}
p { text-align: center; }
label { font-weight: bold; margin-top: 12px; display: block; }
input, textarea {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
  border: 1px solid #ccc;
  border-radius: 6px;
  box-sizing: border-box;
}
textarea { resize: vertical; }
.autocomplete-list {
  border: 1px solid #ccc;
  max-height: 150px;
  overflow-y: auto;
  position: absolute;
  background: white;
  z-index: 1000;
  width: calc(100% - 18px);
  border-radius: 6px;
}
.autocomplete-item { padding: 6px; cursor: pointer; }
.autocomplete-item:hover { background: #8b0000; color: white; }
.campo { position: relative; margin-bottom: 20px; }
.tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
.tag {
  background: #8b0000;
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
}
.tag span { cursor: pointer; font-weight: bold; }
button {
  background: #8b0000;
  color: white;
  padding: 12px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  width: 100%;
  font-size: 16px;
  margin-top: 20px;
}
button:hover { background: #b30000; }
#resumo {
  background:#fff;
  padding:15px;
  border-radius:8px;
  margin-top:20px;
  border:2px solid #8b0000;
  white-space: pre-wrap;
  font-family: Consolas, monospace;
}
</style>
</head>
<body>

<h1>BOPM – BOLETIM DE OCORRÊNCIA<br>POLÍCIA MILITAR DO ESTADO DE SÃO PAULO</h1>
<p><strong>Brasilândia Roleplay</strong></p>

<h2>Identificação</h2>
<div class="campo">
  <label>Número do BOPM (registro no tablet in-game):</label>
  <input type="text" id="numBO" placeholder="Ex: 4872">
</div>
<div class="campo">
  <label>Data:</label>
  <input type="text" id="data" readonly>
</div>
<div class="campo">
  <label>Hora:</label>
  <input type="time" id="hora">
</div>

<h2>Unidade de Serviço</h2>
<div class="campo">
  <label>Prefixo da Viatura:</label>
  <input type="text" id="prefixo" placeholder="Ex: M-18000">
</div>

<h2>Equipe Policial</h2>
<div class="campo">
  <label>Motorista:</label>
  <input type="text" id="motorista" placeholder="Ex: Cabo PM Gabriel Telles">
</div>
<div class="campo">
  <label>Chefe da Equipe:</label>
  <input type="text" id="chefe" placeholder="Ex: 3º Sargento PM Fiorino Osmar">
</div>
<div class="campo">
  <label>Terceiro Homem:</label>
  <input type="text" id="terceiro" placeholder="Ex: Soldado PM Carlos">
</div>
<div class="campo">
  <label>Quarto Homem:</label>
  <input type="text" id="quarto" placeholder="Ex: N/A">
</div>

<h2>Dados da Ocorrência</h2>
<div class="campo">
  <label>Nome do Indivíduo:</label>
  <input type="text" id="nomeElementoInput" placeholder="Nome completo">
</div>
<div class="campo">
  <label>RG:</label>
  <input type="text" id="rgElementoInput" placeholder="RG do indivíduo">
</div>
<div class="campo">
  <label>Natureza dos Fatos (Artigos):</label>
  <input type="text" id="enquadramento" placeholder="Digite o artigo legal">
  <div id="enquadramento-list" class="autocomplete-list"></div>
  <div id="enquadramento-tags" class="tags"></div>
</div>
<div class="campo">
  <label>Local da Ocorrência:</label>
  <input type="text" id="local" placeholder="Ex: Av. Brasil, 102 – Centro">
</div>
<div class="campo">
  <label>Relato da Ocorrência:</label>
  <textarea id="descricao" rows="4" placeholder="Descreva detalhadamente os fatos..."></textarea>
</div>
<div class="campo">
  <label>Veículo do Indivíduo:</label>
  <input type="text" id="veiculo" placeholder="Modelo, placa e características">
</div>
<div class="campo">
  <label>Materiais Ilícitos:</label>
  <textarea id="materiais" rows="3" placeholder="Ex: 02x Porções de entorpecente, 01x Pistola 9mm"></textarea>
</div>

<button onclick="gerarResumo()">Gerar Boletim</button>

<h2>Resumo do Boletim</h2>
<div id="resumo"></div>

<script>
// Autocomplete
function setupAutocomplete(inputId,listId,tagsId,dataList){
  const input=document.getElementById(inputId);
  const list=document.getElementById(listId);
  const tags=document.getElementById(tagsId);
  function addTag(value){
    if([...tags.children].some(tag=>tag.dataset.value===value)) return;
    const tag=document.createElement("div");
    tag.classList.add("tag");
    tag.dataset.value=value;
    tag.innerHTML=`${value} <span>❌</span>`;
    tag.querySelector("span").onclick=()=>tag.remove();
    tags.appendChild(tag);
  }
  input.addEventListener("input",function(){
    const valor=this.value.toLowerCase();
    list.innerHTML="";
    if(!valor) return;
    dataList.filter(item=>item.toLowerCase().includes(valor)).forEach(item=>{
      const div=document.createElement("div");
      div.textContent=item; div.classList.add("autocomplete-item");
      div.onclick=()=>{addTag(item); input.value=""; list.innerHTML="";};
      list.appendChild(div);
    });
  });
  input.addEventListener("keydown",function(e){
    if(e.key==="Enter" && input.value.trim()!==""){
      addTag(input.value.trim()); input.value=""; list.innerHTML=""; e.preventDefault();
    }
  });
  document.addEventListener("click",e=>{if(e.target!==input) list.innerHTML=""});
}

// Artigos legais
const artigos = [
"Art. 129 - Lesão Corporal","Art. 163 - Dano a Patrimônio Particular","Art. 233 - Ato Obsceno",
"Art. 138 - Calúnia","Art. 139 - Difamação","Art. 140 - Injúria","Art. 147 - Ameaça",
"Art. 163 II - Dano a Patrimônio Público","Art. 171 - Estelionato","Lei 3.688 - Perturbação do Sossego",
"Art. 35 - Associação ao Tráfico","Art. 135 - Omissão de Socorro","Art. 150 - Violação de Domicílio",
"Art. 307 - Falsidade Ideológica","Lei 9.613 - Lavagem de Dinheiro","Lei 13.869 - Abuso de Autoridade",
"Art. 180 - Receptação","Art. 289 - Posse de Dinheiro Ilícito","Art. 319 - Prevaricação",
"Art. 155 - Furto","Art. 158 - Extorsão","Art. 287 - Apologia ao Crime","Art. 316 - Fuga da Prisão",
"Art. 121 III - Homicídio Culposo","Art. 155 I - Furto Qualificado","Art. 329 - Resistência",
"Art. 330 - Desobediência à Ordem Policial","Art. 1 - Organização Criminosa",
"Lei 12.850 - Infiltração Policial sem Autorização","Art. 312 - Peculato","Art. 316 - Concussão",
"Art. 317 - Corrupção","Art. 288 - Formação de Quadrilha","Art. 331 - Desacato à Autoridade",
"Art. 121 - Homicídio","Art. 129 III - Lesão Corporal Seguida de Morte","Art. 157 - Roubo",
"Art. 14 - Porte Ilegal de Armas","Art. 324 - Exercício Funcional Ilegal",
"Art. 157 II - Roubo Qualificado","Art. 121 I - Homicídio Doloso","Art. 157 III - Latrocínio",
"Art. 33 - Tráfico de Entorpecente","Art. 16 - Porte Ilegal de Arma Restrita",
"Art. 17 - Comércio Ilegal de Armas ou Explosivos","Art. 121 IV - Homicídio a Servidor Público",
"Art. 148 - Sequestro ou Cárcere Privado","Art. 3 - Genocídio","Lei 9.455 - Tortura",
"Lei 13.260 - Terrorismo"
];
setupAutocomplete("enquadramento","enquadramento-list","enquadramento-tags",artigos);

// Data automática
document.getElementById("data").value = new Date().toLocaleDateString('pt-BR');

// Geração do boletim formatado
function gerarResumo(){
  const numBO = document.getElementById("numBO").value || "N/A";
  const data = document.getElementById("data").value || "N/A";
  const hora = document.getElementById("hora").value || "N/A";
  const prefixo = document.getElementById("prefixo").value || "N/A";
  const motorista = document.getElementById("motorista").value || "N/A";
  const chefe = document.getElementById("chefe").value || "N/A";
  const terceiro = document.getElementById("terceiro").value || "N/A";
  const quarto = document.getElementById("quarto").value || "N/A";
  const nome = document.getElementById("nomeElementoInput").value || "N/A";
  const rg = document.getElementById("rgElementoInput").value || "N/A";
  const enquadramento = [...document.getElementById("enquadramento-tags").children].map(tag => tag.dataset.value).join(', ') || "N/A";
  const local = document.getElementById("local").value || "N/A";
  const descricao = document.getElementById("descricao").value || "N/A";
  const veiculo = document.getElementById("veiculo").value || "N/A";
  const materiais = document.getElementById("materiais").value || "N/A";

  const resumo = 
`# BOPM N° ${numBO}
BOLETIM DE OCORRÊNCIA DA POLÍCIA MILITAR DE SÃO PAULO

▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬

# IDENTIFICAÇÃO

**DATA E HORA:**
Data: ${data}
Horário: ${hora}

**UNIDADE DE SERVIÇO:**
Prefixo: ${prefixo}

**POLICIAL MILITAR (EQUIPE):**
Motorista: ${motorista}
Chefe da Equipe: ${chefe}
Terceiro Homem: ${terceiro}
Quarto Homem: ${quarto}

▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬

# DADOS DA OCORRÊNCIA

**IDENTIFICAÇÃO DO INDIVÍDUO:**
${nome} - RG: ${rg}

**NATUREZA DOS FATOS:**
${enquadramento}

**LOCAL DA OCORRÊNCIA:**
${local}

**RELATO DA OCORRÊNCIA:**
${descricao}

**VEÍCULO DO INDIVÍDUO:**
${veiculo}

**MATERIAIS ILÍCITOS:**
${materiais}

▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬`;

  document.getElementById("resumo").textContent = resumo;
}
</script>

</body>
</html>
